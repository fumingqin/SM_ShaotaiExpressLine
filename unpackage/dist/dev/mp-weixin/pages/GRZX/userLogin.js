(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/GRZX/userLogin"],{239:
/*!*********************************************************************************!*\
  !*** D:/UAD/NP_ComprehensiveTravel/main.js?{"page":"pages%2FGRZX%2FuserLogin"} ***!
  \*********************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){n(/*! uni-pages */4);o(n(/*! vue */2));var t=o(n(/*! ./pages/GRZX/userLogin.vue */240));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},240:
/*!**************************************************************!*\
  !*** D:/UAD/NP_ComprehensiveTravel/pages/GRZX/userLogin.vue ***!
  \**************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./userLogin.vue?vue&type=template&id=414bb9f1& */241),a=n(/*! ./userLogin.vue?vue&type=script&lang=js& */243);for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n(/*! ./userLogin.vue?vue&type=style&index=0&lang=scss& */245);var s,i=n(/*! ../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */10),d=Object(i["default"])(a["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],s);d.options.__file="pages/GRZX/userLogin.vue",t["default"]=d.exports},241:
/*!*********************************************************************************************!*\
  !*** D:/UAD/NP_ComprehensiveTravel/pages/GRZX/userLogin.vue?vue&type=template&id=414bb9f1& ***!
  \*********************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";n.r(t);var o=n(/*! -!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./userLogin.vue?vue&type=template&id=414bb9f1& */242);n.d(t,"render",(function(){return o["render"]})),n.d(t,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(t,"components",(function(){return o["components"]}))},242:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/UAD/NP_ComprehensiveTravel/pages/GRZX/userLogin.vue?vue&type=template&id=414bb9f1& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";var o;n.r(t),n.d(t,"render",(function(){return a})),n.d(t,"staticRenderFns",(function(){return s})),n.d(t,"recyclableRender",(function(){return r})),n.d(t,"components",(function(){return o}));var a=function(){var e=this,t=e.$createElement;e._self._c},r=!1,s=[];a._withStripped=!0},243:
/*!***************************************************************************************!*\
  !*** D:/UAD/NP_ComprehensiveTravel/pages/GRZX/userLogin.vue?vue&type=script&lang=js& ***!
  \***************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var o=n(/*! -!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./userLogin.vue?vue&type=script&lang=js& */244),a=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t["default"]=a.a},244:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/UAD/NP_ComprehensiveTravel/pages/GRZX/userLogin.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{textCode:"获取验证码",phoneNumber:"",captchaCode:"",imgHeight:"",urlData:"",background:"",logo:"",state:!0,system:"",platform:"",whetherClick:!0}},onLoad:function(t){this.loadImg(),this.urlData=t.urlData,this.load();var n=this;e.getSystemInfo({success:function(e){console.log("系统",e),n.system=e.system,n.platform=e.platform}})},onShow:function(){this.whetherClick=!0},onUnload:function(){e.hideLoading()},methods:{loadImg:function(){var e=this;e.$ChangeImage.GetImage("南平综合出行","南平背景图").then((function(t){e.background=t})),e.$ChangeImage.GetImage("南平综合出行","nanpinglogo").then((function(t){e.logo=t}))},load:function(){var t=this;e.getSystemInfo({success:function(e){t.imgHeight=e.windowHeight}})},judgeNum:function(e){var t=/^\d+(\.\d+)?$/,n=/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/;return!(!t.test(e)&&!n.test(e))},inputChange1:function(t){var n=t.detail.value;this.judgeNum(n)||e.showToast({title:"请输入正确的手机号码",icon:"none"});var o=t.currentTarget.dataset.key;this[o]=t.detail.value},inputChange2:function(t){var n=t.detail.value;this.judgeNum(n)||e.showToast({title:"请输入正确的验证码",icon:"none"});var o=t.currentTarget.dataset.key;this[o]=t.detail.value},loginClick:function(){e.showLoading({title:"登录中..."});var t=this,n=(this.phoneNumber,this.captchaCode,this.phoneNumber),o=this.captchaCode;null==n||""==n?e.showToast({title:"请输入手机号码",icon:"none"}):null==o||""==o?e.showToast({title:"请输入验证码",icon:"none"}):t.requestInter(n,o)},requestInter:function(t,n){var o=this;e.getStorage({key:"captchaCode",success:function(a){n==a.data.code&&t==a.data.phone?e.request({url:o.$GrzxInter.Interface.login.value,data:{phoneNumber:t,systemname:o.$GrzxInter.systemConfig.appName,openidtype:o.$GrzxInter.systemConfig.openidtype},method:o.$GrzxInter.Interface.login.method,success:function(t){console.log(t);var n=t.data.data,a=new Object;a={address:n.Address,autograph:n.Autograph,birthday:n.Birthday,gender:n.Gender,openId_app:n.OpenId_app,openId_ios:n.OpenId_ios,openId_qq:n.OpenId_qq,openId_wx:n.OpenId_wx,openId_xcx:n.OpenId_xcx,phoneNumber:n.PhoneNumber,portrait:n.Portrait,userId:n.UserId,nickname:n.Nickname},e.setStorageSync("userInfo",a),e.removeStorageSync("captchaCode"),e.hideLoading(),o.successReturn()}}):e.showToast({title:"验证码错误",icon:"none"})},fail:function(){e.showToast({title:"验证码已过期，请重新获取",icon:"none"})}})},successReturn:function(){var t=this;e.showToast({title:"登录成功!",icon:"success"}),setTimeout((function(){1==t.urlData?t.$GrzxInter.navToHome():2==t.urlData?t.$GrzxInter.navToOrderList():(console.log("返回上一页"),e.navigateBack())}),500)},registerBike:function(t,n){var o=this;console.log(t),e.request({url:o.$GrzxInter.Interface.RegistUser.value,method:o.$GrzxInter.Interface.RegistUser.method,data:{userID:t,phone:n},success:function(e){console.log(e),o.checkRealName(e.data.data.UserID)},fail:function(){}})},checkRealName:function(t){console.log(t,"checkRealName");var n=this;e.request({url:n.$GrzxInter.Interface.GetUserByUserID.value,data:{userID:t},method:n.$GrzxInter.Interface.GetUserByUserID.method,success:function(t){console.log(t),e.hideLoading(),""==t.data.data||""==t.data.data.UserName||""==t.data.data.UserIDNumber?e.redirectTo({url:n.$GrzxInter.Route.realName.url}):1!==t.data.data.RealNameStatus?e.redirectTo({url:n.$GrzxInter.Route.uploadPhoto.url}):(e.setStorageSync("RealNameInfo",t.data.data),e.showToast({title:"登录成功!",icon:"none"}),1==n.urlData?e.switchTab({url:"/pages/Home/zy_zhcx"}):2==n.urlData?e.switchTab({url:"/pages/order/OrderList"}):(console.log("返回上一页"),e.navigateBack()))}})},wxLogin:function(){var t=this;t.whetherClick&&(t.whetherClick=!1,e.showLoading({title:"授权登录中...",mask:!0}),e.getProvider({service:"oauth",success:function(n){console.log(n,"授权1"),~n.provider.indexOf("weixin")&&e.login({provider:"weixin",success:function(n){console.log(n,"授权2"),e.getUserInfo({provider:"weixin",success:function(e){t.requestInterface(e.userInfo,"wx")},fail:function(t){e.hideLoading(),console.log(t,"获取用户信息失败"),e.showModal({title:"获取用户信息失败",content:JSON.stringify(t)})}})},fail:function(t){e.hideLoading(),console.log(t,"获取失败"),e.showModal({title:"获取失败",content:JSON.stringify(t)})}})}}))},requestInterface:function(t,n){var o=this;"wx"==n?e.request({url:o.$GrzxInter.Interface.GetUserInfoByOpenId.value,data:{openid:t.openId,systemname:o.$GrzxInter.systemConfig.appName,openidtype:o.$GrzxInter.systemConfig.openidtype},method:o.$GrzxInter.Interface.GetUserInfoByOpenId.method,success:function(n){if(e.hideLoading(),console.log(n,"提示！！！！"),n.data.status){if(n.data.status){var a=n.data.data,r=new Object;r={address:a.Address,autograph:a.Autograph,birthday:a.Birthday,gender:a.Gender,openId_app:a.OpenId_app,openId_ios:a.OpenId_ios,openId_qq:a.OpenId_qq,openId_wx:a.OpenId_wx,openId_xcx:a.OpenId_xcx,phoneNumber:a.PhoneNumber,portrait:a.Portrait,userId:a.UserId,nickname:a.Nickname},e.setStorageSync("userInfo",r),setTimeout((function(){o.successReturn()}),500)}}else e.setStorageSync("appUserInfo",t),e.navigateTo({url:"/pages/GRZX/wxLogin?type=appWxLogin&&urlData="+o.urlData})},fail:function(){e.hideLoading()}}):"qq"==n?e.request({url:o.$GrzxInter.Interface.GetUserInfoByOpenId.value,data:{openid:t.openId,systemname:o.$GrzxInter.systemConfig.appName,openidtype:o.$GrzxInter.systemConfig.openidtype},method:o.$GrzxInter.Interface.GetUserInfoByOpenId.method,success:function(n){if(e.hideLoading(),n.data.status){if(n.data.status){var a=n.data.data,r=new Object;r={address:a.Address,autograph:a.Autograph,birthday:a.Birthday,gender:a.Gender,openId_app:a.OpenId_app,openId_ios:a.OpenId_ios,openId_qq:a.OpenId_qq,openId_wx:a.OpenId_wx,openId_xcx:a.OpenId_xcx,phoneNumber:a.PhoneNumber,portrait:a.Portrait,userId:a.UserId,nickname:a.Nickname},e.setStorageSync("userInfo",r),o.successReturn()}}else e.setStorageSync("appUserInfo",t),e.navigateTo({url:"/pages/GRZX/wxLogin?type=appQQLogin&&urlData="+o.urlData})},fail:function(){e.hideLoading()}}):"apple"==n&&e.request({url:o.$GrzxInter.Interface.GetUserInfoByOpenId.value,data:{openid:t.openId,systemname:o.$GrzxInter.systemConfig.appName,openidtype:o.$GrzxInter.systemConfig.openidtype},method:o.$GrzxInter.Interface.GetUserInfoByOpenId.method,success:function(n){if(e.hideLoading(),n.data.status){if(n.data.status){var a=n.data.data,r=new Object;r={address:a.Address,autograph:a.Autograph,birthday:a.Birthday,gender:a.Gender,openId_app:a.OpenId_app,openId_ios:a.OpenId_ios,openId_qq:a.OpenId_qq,openId_wx:a.OpenId_wx,openId_xcx:a.OpenId_xcx,phoneNumber:a.PhoneNumber,portrait:a.Portrait,userId:a.UserId,nickname:a.Nickname},e.setStorageSync("userInfo",r),o.successReturn()}}else e.setStorageSync("appUserInfo",t),e.navigateTo({url:"/pages/GRZX/wxLogin?type=appleLogin&&urlData="+o.urlData})},fail:function(){e.hideLoading()}})},appleLogin:function(){var t=this;e.showLoading({title:"授权登录中...",mask:!0}),e.login({provider:"apple",success:function(n){console.log("苹果信息",n),e.getUserInfo({provider:"apple",success:function(e){console.log("苹果用户信息",e),t.requestInterface(e.userInfo,"apple")},fail:function(){e.showToast({title:"获取用户信息失败",icon:"none"})}})},fail:function(t){console.log("获取失败",t),e.showToast({title:"获取失败",icon:"none"})}})},qqLogin:function(){var t=this;t.whetherClick&&(t.whetherClick=!1,e.showLoading({title:"授权登录中...",mask:!0}),e.login({provider:"qq",success:function(n){e.getUserInfo({provider:"qq",success:function(e){console.log(e,"qq用户信息"),t.requestInterface(e.userInfo,"qq")},fail:function(){e.hideLoading(),e.showToast({title:"获取用户信息失败",icon:"none"})}})},fail:function(){e.hideLoading(),e.showToast({title:"获取失败",icon:"none"})}}))},getCodeClick:function(t){var n=this;this.phoneNumber,this.captchaCode;if(n.judgeNum(n.phoneNumber)){var o=null,a=60;"获取验证码"==n.textCode&&n.state&&(n.state=!1,n.getCode(o,a,n.phoneNumber))}else e.showToast({title:"请输入正确的手机号码",icon:"none"})},getCode:function(t,n,o){var a=this;t=setInterval((function(){n--,n<=0?(a.textCode="获取验证码",clearInterval(t),n=60,a.state=!0):a.textCode=n+"秒后重发"}),1e3),e.request({url:a.$GrzxInter.Interface.getLoginCode.value,data:{phoneNumber:o},method:a.$GrzxInter.Interface.getLoginCode.method,success:function(n){console.log(n,"340"),console.log(n.data.data),0==n.data.status?(a.state=!0,a.textCode="获取验证码",clearInterval(t),e.showToast({title:"验证码获取失败!",icon:"none"})):(e.setStorage({key:"captchaCode",data:{code:n.data.data,phone:o}}),e.showToast({title:"验证码已发送，仅在5分钟内有效!",icon:"none"}),setTimeout((function(){e.removeStorage({key:"captchaCode"})}),3e5))}})},returnClick:function(){var t=this;1==t.urlData?t.$GrzxInter.navToHome():2==t.urlData?e.switchTab({url:"/pages/order/OrderList"}):(console.log("返回上一页"),e.navigateBack())},isBase64:function(e){if(""===e||""===e.trim())return!1;try{return btoa(atob(e))==e}catch(t){return!1}},getSpecialTime:function(e){var t=parseInt(e,10),n=new Date,o=JSON.stringify(n).substring(1,11),a=o.split("-"),r=parseInt(a[0],10),s=parseInt(a[1],10),i=parseInt(a[2],10),d=new Date(r,s-1,i);d.setDate(d.getDate()+t),s=1==(d.getMonth()+1).toString().length?"0"+(d.getMonth()+1).toString():(d.getMonth()+1).toString(),i=1==d.getDate().toString().length?"0"+d.getDate().toString():d.getDate().toString();d.getFullYear()},LoginLog:function(t,n){e.getLocation({type:"gcj02",geocode:!0,success:function(o){console.log(o),e.getSystemInfo({success:function(a){var r=o.address.country?o.address.country:"",s=o.address.province?o.address.province:"",i=o.address.city?o.address.city:"",d=o.address.district?o.address.district:"",c=o.address.street?o.address.street:"",u=o.address.streetNum?o.address.streetNum:"",l=o.address.poiName?o.address.poiName:"",p=r+s+i+d+c+u+l;e.request({url:$DDTInterface.DDTInterface.BikeLog.Url,method:$DDTInterface.DDTInterface.BikeLog.method,data:{UserID:t,LogType:"登陆",PhoneNumber:n,Mac:"",PhoneBrand:a.brand,Address:p,PhoneModel:a.model,SystemType:a.platform,SystemVersion:a.system},success:function(e){},fail:function(e){console.log(e)}})}})}})}}};t.default=n}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},245:
/*!************************************************************************************************!*\
  !*** D:/UAD/NP_ComprehensiveTravel/pages/GRZX/userLogin.vue?vue&type=style&index=0&lang=scss& ***!
  \************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var o=n(/*! -!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--8-oneOf-1-3!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./userLogin.vue?vue&type=style&index=0&lang=scss& */246),a=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t["default"]=a.a},246:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/UAD/NP_ComprehensiveTravel/pages/GRZX/userLogin.vue?vue&type=style&index=0&lang=scss& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){}},[[239,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/GRZX/userLogin.js.map