{"version":3,"sources":["uni-app:///main.js","webpack:///D:/UAD/NP_ComprehensiveTravel/pages/order/newOrderList.vue?f3f4","webpack:///D:/UAD/NP_ComprehensiveTravel/pages/order/newOrderList.vue?dada","webpack:///D:/UAD/NP_ComprehensiveTravel/pages/order/newOrderList.vue?2e46","webpack:///D:/UAD/NP_ComprehensiveTravel/pages/order/newOrderList.vue?9b15","uni-app:///pages/order/newOrderList.vue","webpack:///D:/UAD/NP_ComprehensiveTravel/pages/order/newOrderList.vue?82d9"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","l0","_self","_c","current","__map","info","item","index","$orig","__get_orig","m0","carType","getCtkyOrderStatus","state","m1","gettime","setOutTime","m2","IsPickUp","getTsetDate","m3","getScheduleNum","l1","finishArr","m4","m5","m6","m7","l2","goingArr","m8","m9","m10","m11","l3","unfinishArr","m12","m13","m14","m15","l4","cancelArr","m16","m17","m18","m19","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped"],"mappings":"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A,WACA,2CACA,iDACA,MACA,2BACA,gDAGA,oBAIA,GAHA,wBACA,6BACA,kCACA,kBACA,mBACA,oBACA,qCACA,4BACA,iCACA,6BACA,gCACA,6BACA,mCACA,2DACA,iCAGA,qBACA,kBACA,iBAIA,KAhCA,SAgCA,GACA,gBAEA,4BAKA,2BACA,0BACA,mBAEA,KAIA,oBACA,mBACA,gBACA,UAGA,mBA7HA,SA6HA,GACA,6BAGA,KACA,MACA,KACA,MACA,KACA,MACA,KACA,MACA,KACA,WADA,EAVA,GAkBA,MAjJA,SAiJA,GACA,yBACA,0BAGA,wBACA,eACA,cACA,sBACA,OACA,oBACA,eACA,cACA,mEAGA,iBACA,eACA,aACA,aACA,kBAMA,wBACA,OACA,eACA,iBAEA,cACA,0GAIA,wCACA,WACA,OACA,UACA,eACA,oBAEA,0BACA,WACA,uDACA,6DACA,MACA,eAEA,oBACA,eACA,sBACA,wBACA,gBACA,iBACA,aACA,cACA,gBAGA,iBACA,oCAGA,KArBA,SAqBA,GACA,wBACA,gBAEA,sBAGA,MAGA,yCACA,WACA,WACA,2DACA,iEACA,MACA,eAEA,QANA,SAMA,GAEA,GADA,eACA,kBACA,gBACA,uBACA,8BACA,aACA,aACA,+BAEA,QAJA,SAIA,GACA,WACA,+BAIA,mBACA,gBACA,uBACA,aACA,iBACA,YACA,SAHA,WAIA,uBACA,2BACA,WAKA,KApCA,SAoCA,GACA,gBACA,wBAKA,yCACA,eACA,mBAGA,WACA,gDACA,sDACA,MACA,eAEA,oBACA,gBACA,sBACA,iBACA,oBACA,aACA,aACA,SAFA,WAGA,uBACA,2BACA,SAGA,qBAEA,aACA,mBAEA,yBACA,oBAEA,mBACA,gBACA,WACA,aACA,iBACA,eAGA,aACA,aACA,cAEA,oBAEA,uBACA,0BAEA,oBAEA,iBACA,gBACA,eACA,aACA,0BAMA,kBACA,WACA,sBACA,uBAGA,OA5UA,WA6UA,2BAGA,wCACA,WACA,OACA,UACA,eACA,oBAEA,0BACA,WACA,8CACA,oDACA,MACA,eAEA,oBACA,sBACA,iDACA,iBACA,wBACA,yCACA,iBACA,gBACA,uBACA,aACA,aACA,yBACA,cACA,SAJA,WAKA,6BAGA,yCACA,iBACA,yBAEA,iBACA,gBACA,yBAGA,KAhCA,SAgCA,GACA,wBACA,gBAEA,sBAGA,MAGA,yCACA,OACA,wBACA,WACA,gDACA,sDACA,MACA,eAEA,oBACA,gBACA,uBAEA,kBACA,aACA,aACA,SAFA,WAGA,uBACA,2BACA,SAGA,oBAEA,aACA,aACA,YACA,SAHA,WAIA,uBACA,2BACA,UAKA,iBAEA,gBACA,eACA,aACA,sBAEA,2BAMA,uBAGA,0CACA,uBACA,+BACA,0CAIA,+BACA,WACA,gDACA,4BACA,oBACA,WACA,8CACA,oDACA,MACA,cACA,WAEA,QAPA,SAOA,GACA,sBACA,+CACA,mBACA,aACA,cACA,cAEA,mBACA,aACA,aACA,cAEA,oBACA,aACA,aACA,cAEA,qBACA,aACA,cACA,eAIA,KAhCA,SAgCA,GACA,mBAKA,iCAEA,WACA,OACA,UACA,eACA,oBAEA,0BACA,WACA,uDACA,6DACA,MACA,eAEA,oBAEA,GADA,0BACA,kBACA,gBACA,6BACA,kBACA,iBACA,aACA,cACA,YACA,SAHA,WAIA,uBACA,2BACA,WAIA,iBAEA,0CACA,wBAEA,qBACA,gBACA,iBACA,yBACA,iBACA,aACA,cACA,cAGA,aACA,mBACA,kBAKA,KA7CA,SA6CA,GACA,gBAEA,sBAGA,MAGA,yBAEA,WACA,iBACA,aACA,sBACA,eAuFA,gBACA,kBACA,iBACA,6CACA,2CACA,yCACA,2CACA,yCACA,QAPA,SAOA,GACA,eACA,aACA,aACA,cAEA,eACA,iBAEA,uCAEA,KAlBA,SAkBA,GACA,eACA,uCACA,uBACA,4BACA,KAEA,yBAQA,6CACA,WACA,OACA,UACA,eACA,iBAEA,eACA,0BACA,WACA,uDACA,6DAEA,MACA,eAEA,oBACA,0BACA,wBACA,sBACA,gBACA,iBACA,aACA,aACA,cAEA,qBAGA,KApBA,SAoBA,GACA,wBACA,gBAEA,sBAGA,MAGA,uBACA,eACA,cACA,wHAGA,SAltBA,SAktBA,GACA,kBAEA,QArtBA,SAqtBA,IACA,2BACA,qBAEA,gDAIA,kBACA,eACA,mBAEA,WACA,oDAGA,OAruBA,WAsuBA,2BAGA,kBACA,0DAGA,YA7uBA,SA6uBA,GACA,gCACA,8BAIA,wBACA,yBACA,uCACA,kBACA,iBACA,cACA,gDACA,sDAGA,OAFA,sBACA,sBACA,6B;;;;2DC9mCA,6vCAA+sC,eAAG,G","file":"pages/order/newOrderList.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/order/newOrderList.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./newOrderList.vue?vue&type=template&id=794e2226&\"\nvar renderjs\nimport script from \"./newOrderList.vue?vue&type=script&lang=js&\"\nexport * from \"./newOrderList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./newOrderList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/order/newOrderList.vue\"\nexport default component.exports","export * from \"-!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./newOrderList.vue?vue&type=template&id=794e2226&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    _vm.current === 0\n      ? _vm.__map(_vm.info, function(item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var m0 =\n            item.carType == \"普通班车\" || item.carType == \"定制班车\"\n              ? _vm.getCtkyOrderStatus(item.state)\n              : null\n          var m1 =\n            item.carType == \"普通班车\" || item.carType == \"定制班车\"\n              ? _vm.gettime(item.setOutTime)\n              : null\n          var m2 =\n            (item.carType == \"普通班车\" || item.carType == \"定制班车\") &&\n            item.IsPickUp == true\n              ? _vm.getTsetDate(item.setOutTime)\n              : null\n          var m3 =\n            item.carType == \"普通班车\" || item.carType == \"定制班车\"\n              ? _vm.getScheduleNum(item)\n              : null\n          return {\n            $orig: $orig,\n            m0: m0,\n            m1: m1,\n            m2: m2,\n            m3: m3\n          }\n        })\n      : null\n  var l1 =\n    _vm.current === 1\n      ? _vm.__map(_vm.finishArr, function(item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var m4 =\n            item.carType == \"普通班车\" || item.carType == \"定制班车\"\n              ? _vm.getCtkyOrderStatus(item.state)\n              : null\n          var m5 =\n            item.carType == \"普通班车\" || item.carType == \"定制班车\"\n              ? _vm.gettime(item.setOutTime)\n              : null\n          var m6 =\n            (item.carType == \"普通班车\" || item.carType == \"定制班车\") &&\n            item.IsPickUp == true\n              ? _vm.getTsetDate(item.setOutTime)\n              : null\n          var m7 =\n            item.carType == \"普通班车\" || item.carType == \"定制班车\"\n              ? _vm.getScheduleNum(item)\n              : null\n          return {\n            $orig: $orig,\n            m4: m4,\n            m5: m5,\n            m6: m6,\n            m7: m7\n          }\n        })\n      : null\n  var l2 =\n    _vm.current === 2\n      ? _vm.__map(_vm.goingArr, function(item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var m8 =\n            item.carType == \"普通班车\" || item.carType == \"定制班车\"\n              ? _vm.getCtkyOrderStatus(item.state)\n              : null\n          var m9 =\n            item.carType == \"普通班车\" || item.carType == \"定制班车\"\n              ? _vm.gettime(item.setOutTime)\n              : null\n          var m10 =\n            (item.carType == \"普通班车\" || item.carType == \"定制班车\") &&\n            item.IsPickUp == true\n              ? _vm.getTsetDate(item.setOutTime)\n              : null\n          var m11 =\n            item.carType == \"普通班车\" || item.carType == \"定制班车\"\n              ? _vm.getScheduleNum(item)\n              : null\n          return {\n            $orig: $orig,\n            m8: m8,\n            m9: m9,\n            m10: m10,\n            m11: m11\n          }\n        })\n      : null\n  var l3 =\n    _vm.current === 3\n      ? _vm.__map(_vm.unfinishArr, function(item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var m12 =\n            item.carType == \"普通班车\" || item.carType == \"定制班车\"\n              ? _vm.getCtkyOrderStatus(item.state)\n              : null\n          var m13 =\n            item.carType == \"普通班车\" || item.carType == \"定制班车\"\n              ? _vm.gettime(item.setOutTime)\n              : null\n          var m14 =\n            (item.carType == \"普通班车\" || item.carType == \"定制班车\") &&\n            item.IsPickUp == true\n              ? _vm.getTsetDate(item.setOutTime)\n              : null\n          var m15 =\n            item.carType == \"普通班车\" || item.carType == \"定制班车\"\n              ? _vm.getScheduleNum(item)\n              : null\n          return {\n            $orig: $orig,\n            m12: m12,\n            m13: m13,\n            m14: m14,\n            m15: m15\n          }\n        })\n      : null\n  var l4 =\n    _vm.current === 4\n      ? _vm.__map(_vm.cancelArr, function(item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var m16 =\n            item.carType == \"普通班车\" || item.carType == \"定制班车\"\n              ? _vm.getCtkyOrderStatus(item.state)\n              : null\n          var m17 =\n            item.carType == \"普通班车\" || item.carType == \"定制班车\"\n              ? _vm.gettime(item.setOutTime)\n              : null\n          var m18 =\n            (item.carType == \"普通班车\" || item.carType == \"定制班车\") &&\n            item.IsPickUp == true\n              ? _vm.getTsetDate(item.setOutTime)\n              : null\n          var m19 =\n            item.carType == \"普通班车\" || item.carType == \"定制班车\"\n              ? _vm.getScheduleNum(item)\n              : null\n          return {\n            $orig: $orig,\n            m16: m16,\n            m17: m17,\n            m18: m18,\n            m19: m19\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l1: l1,\n        l2: l2,\n        l3: l3,\n        l4: l4\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./newOrderList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./newOrderList.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>     \r\n\t\t<view class=\"tab\">\r\n\t\t\t<uni-segmented-control :current=\"current\" :values=\"items\" @clickItem=\"onClickItem\" style-type=\"text\" active-color=\"#3DABFC\"></uni-segmented-control>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 最外层view，用于底部拉大 -->\r\n\t\t<view class=\"pageView\">\r\n\r\n\t\t\t<!-- 全部 -->\r\n\t\t\t<view v-if=\"current === 0\" style=\"margin-top: 20rpx;\">\r\n\t\t\t\t<view v-for=\"(item,index) in info\" :key=\"index\"> \r\n\t\t\t\t\t<view v-if=\"item.carType=='普通班车' || item.carType=='定制班车'\">\r\n\t\t\t\t\t\t<view class=\"pd_view\">下单时间：{{item.bookTime}}</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view class=\"at_view\">\r\n\t\t\t\t\t\t\t<view class=\"at_titleView\">\r\n\t\t\t\t\t\t\t\t<image class=\"at_icon\" src=\"../../static/order/keche.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"at_textView\"><text class=\"at_title\">{{item.startSiteName}}-{{item.endSiteName}}</text></view>\r\n\t\t\t\t\t\t\t\t<text class=\"at_status\">{{getCtkyOrderStatus(item.state)}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"at_contentView\" style=\"display: flex;\">\r\n\t\t\t\t\t\t\t\t<view class=\"at_contentFrame\">扫码上车</view>\r\n\t\t\t\t\t\t\t\t<view class=\"at_contentFrame\" v-if=\"item.IsPickUp==true\">上门接送</view>\r\n\t\t\t\t\t\t\t\t<view class=\"at_contentFrame\">{{item.carType}}</view>\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentPrice\">¥{{item.totalPrice}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t<view class=\"at_contentView\">\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentText\">发车时间：&nbsp;{{gettime(item.setOutTime)}}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentText\" v-if=\"item.IsPickUp==true\" >接送时间：&nbsp;{{getTsetDate(item.setOutTime)}}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentText\" v-if=\"item.carType == '定制班车'\">上车点：&nbsp;{{item.getOnPoint}}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentText\">下车点：&nbsp;{{item.getOffPoint}}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentText\">班次：&nbsp;{{getScheduleNum(item)}}</text>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</view>\t\t\r\n\t\t\t\t\t\t\t<view class=\"at_buttonView\">\r\n\t\t\t\t\t\t\t\t<!-- #ifndef MP-WEIXIN -->\r\n\t\t\t\t\t\t\t\t<view class=\"at_button at_btDelete\" v-if=\"item.state=='4'\" @click=\"busLocation(item)\">车辆位置</view>\r\n\t\t\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\t\t\t<view class=\"at_button at_btDelete\" v-if=\"item.state=='7'||item.state=='等待确认'\" @tap=\"open3(item.orderNumber)\">取消</view>\r\n\t\t\t\t\t\t\t\t<view class=\"at_button at_btDelete\" v-if=\"item.state=='4'||item.state=='尚未取票'\" @tap=\"open2(item.orderNumber)\">退票</view>\r\n\t\t\t\t\t\t\t\t<view class=\"at_button at_btDelete\" v-if=\"item.state=='4'||item.state=='已取票'\" @click=\"KyComplain(item)\">投诉</view>\r\n\t\t\t\t\t\t\t\t<view class=\"at_button at_btToPay\" v-if=\"item.state=='7'\" @tap=\"keYunPay(item,item.carType)\">去支付</view>\r\n\t\t\t\t\t\t\t\t<view class=\"at_button at_btToPay\" v-if=\"item.state=='尚未支付'||item.state=='等待确认'\" @tap=\"keYunPay(item,item.carType)\">去支付</view>\t\r\n\t\t\t\t\t\t\t\t<view class=\"at_button at_btDetails\" @click=\"keYunDetail(item)\">详情</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<empty-data :isShow=\"info.length==0\" text=\"暂无数据\" :image=\"noDataImage\" textColor=\"#999999\"></empty-data>\r\n\t\t\t</view>\r\n\r\n\r\n\t\t\t<!-- 已完成 -->\r\n\t\t\t<!--（已完成）客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车 -->\r\n\t\t\t<view v-if=\"current === 1 \" style=\"margin-top: 20rpx; \">\r\n\t\t\t\t<view v-for=\"(item,index) in finishArr\" :key=\"index\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view v-if=\"item.carType=='普通班车' || item.carType=='定制班车'\">\r\n\t\t\t\t\t\t<view class=\"pd_view\">下单时间：{{item.bookTime}}</view>\r\n\t\t\t\t\t\t<view class=\"at_view\">\r\n\t\t\t\t\t\t\t<view class=\"at_titleView\">\r\n\t\t\t\t\t\t\t\t<image class=\"at_icon\" src=\"../../static/order/keche.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"at_textView\"><text class=\"at_title\">{{item.startSiteName}}-{{item.endSiteName}}</text></view>\r\n\t\t\t\t\t\t\t\t<text class=\"at_status\">{{getCtkyOrderStatus(item.state)}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"at_contentView\" style=\"display: flex;\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<view class=\"at_contentFrame\">扫码上车</view>\r\n\t\t\t\t\t\t\t\t<view class=\"at_contentFrame\" v-if=\"item.IsPickUp==true\">上门接送</view>\r\n\t\t\t\t\t\t\t\t<view class=\"at_contentFrame\">{{item.carType}}</view>\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentPrice\">¥{{item.totalPrice}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t<view class=\"at_contentView\">\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentText\">发车时间：&nbsp;{{gettime(item.setOutTime)}}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentText\" v-if=\"item.IsPickUp==true\" >接送时间：&nbsp;{{getTsetDate(item.setOutTime)}}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentText\" v-if=\"item.carType == '定制班车'\">上车点：&nbsp;{{item.getOnPoint}}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentText\">下车点：&nbsp;{{item.getOffPoint}}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentText\">班次：&nbsp;{{getScheduleNum(item)}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"at_buttonView\">\r\n\t\t\t\t\t\t\t\t<view class=\"at_button at_btDelete\" @click=\"KyComplain(item)\">投诉</view>\r\n\t\t\t\t\t\t\t\t<view class=\"at_button at_btDetails\" @click=\"keYunDetail(item)\">详情</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<empty-data :isShow=\"finishArr.length == 0\" text=\"暂无数据\" :image=\"noDataImage\" textColor=\"#999999\"></empty-data>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t<!-- 进行中 -->\r\n\t\t\t<!-- (进行中)客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车 -->\r\n\t\t\t<view v-if=\"current === 2\" style=\"margin-top: 20rpx;\">\r\n\t\t\t\t<view v-for=\"(item,index) in goingArr\" :key=\"index\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view v-if=\"item.carType=='普通班车' || item.carType=='定制班车'\">\r\n\t\t\t\t\t\t<view class=\"pd_view\">下单时间：{{item.bookTime}}</view>\r\n\t\t\t\t\t\t<view class=\"at_view\">\r\n\t\t\t\t\t\t\t<view class=\"at_titleView\">\r\n\t\t\t\t\t\t\t\t<image class=\"at_icon\" src=\"../../static/order/keche.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"at_textView\"><text class=\"at_title\">{{item.startSiteName}}-{{item.endSiteName}}</text></view>\r\n\t\t\t\t\t\t\t\t<text class=\"at_status\">{{getCtkyOrderStatus(item.state)}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"at_contentView\" style=\"display: flex;\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"at_contentFrame\">扫码上车</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"at_contentFrame\" v-if=\"item.IsPickUp==true\">上门接送</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"at_contentFrame\">{{item.carType}}</view>\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentPrice\">¥{{item.totalPrice}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t<view class=\"at_contentView\">\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentText\">发车时间：&nbsp;{{gettime(item.setOutTime)}}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentText\" v-if=\"item.IsPickUp==true\" >接送时间：&nbsp;{{getTsetDate(item.setOutTime)}}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentText\" v-if=\"item.carType == '定制班车'\">上车点：&nbsp;{{item.getOnPoint}}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentText\">下车点：&nbsp;{{item.getOffPoint}}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentText\">班次：&nbsp;{{getScheduleNum(item)}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"at_buttonView\">\r\n\t\t\t\t\t\t\t\t<!-- #ifndef MP-WEIXIN -->\r\n\t\t\t\t\t\t\t\t<!-- <view class=\"at_button at_btDelete\" v-if=\"item.state=='4'\" @click=\"busLocation(item)\">车辆位置</view> -->\r\n\t\t\t\t\t\t\t\t <!-- #endif -->\r\n\t\t\t\t\t\t\t\t<view class=\"at_button at_btDelete\" v-if=\"item.state=='4'||item.state=='尚未取票'\" @tap=\"open2(item.orderNumber,'2')\">退票</view>\r\n\t\t\t\t\t\t\t\t <!-- <view class=\"at_button at_btDelete\" @click=\"KyComplain(item)\">投诉</view> -->\r\n\t\t\t\t\t\t\t\t<view class=\"at_button at_btDetails\" @click=\"keYunDetail(item)\">详情</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<empty-data :isShow=\"goingArr.length == 0\" text=\"暂无数据\" :image=\"noDataImage\" textColor=\"#999999\"></empty-data>\r\n\t\t\t</view>\r\n\r\n\r\n\t\t\t<!-- 未支付 -->\r\n\t\t\t<view v-if=\"current === 3\" style=\"margin-top: 20rpx;\">\r\n\t\t\t\t<view v-for=\"(item,index) in unfinishArr\" :key=\"index\">\r\n\t\t\t\t\t<!-- (未支付)客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车 -->\r\n\t\t\t\t\t<view v-if=\"item.carType=='普通班车' || item.carType=='定制班车'\">\r\n\t\t\t\t\t\t<!-- 预定日期 -->\r\n\t\t\t\t\t\t<view class=\"pd_view\">下单时间：{{item.bookTime}}</view>\r\n\t\t\t\t\t\t<view class=\"at_view\">\r\n\t\t\t\t\t\t\t<view class=\"at_titleView\">\r\n\t\t\t\t\t\t\t\t<image class=\"at_icon\" src=\"../../static/order/keche.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"at_textView\"><text class=\"at_title\">{{item.startSiteName}}-{{item.endSiteName}}</text></view>\r\n\t\t\t\t\t\t\t\t<text class=\"at_status\">{{getCtkyOrderStatus(item.state)}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"at_contentView\" style=\"display: flex;\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<view class=\"at_contentFrame\">扫码上车</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"at_contentFrame\" v-if=\"item.IsPickUp==true\">上门接送</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"at_contentFrame\">{{item.carType}}</view>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentPrice\">¥{{item.totalPrice}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t<view class=\"at_contentView\">\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentText\">发车时间：&nbsp;{{gettime(item.setOutTime)}}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentText\" v-if=\"item.IsPickUp==true\" >接送时间：&nbsp;{{getTsetDate(item.setOutTime)}}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentText\" v-if=\"item.carType == '定制班车'\">上车点：&nbsp;{{item.getOnPoint}}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentText\">下车点：&nbsp;{{item.getOffPoint}}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentText\">班次：&nbsp;{{getScheduleNum(item)}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"at_buttonView\">\r\n\t\t\t\t\t\t\t\t<view class=\"at_button at_btDelete\" v-if=\"item.carType=='普通班车' || item.carType=='定制班车'\" @tap=\"open3(item.orderNumber)\">取消</view>\r\n\t\t\t\t\t\t\t\t<view class=\"at_button at_btToPay\" @tap=\"keYunPay(item,item.carType)\">去支付</view>\r\n\t\t\t\t\t\t\t\t<view class=\"at_button at_btDetails\" @click=\"keYunDetail(item)\">详情</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<empty-data :isShow=\"unfinishArr.length == 0\" text=\"暂无数据\" :image=\"noDataImage\" textColor=\"#999999\"></empty-data>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 已取消 -->\r\n\t\t\t<view v-if=\"current === 4\" style=\"margin-top: 20rpx;\">\r\n\t\t\t\t<view v-for=\"(item,index) in cancelArr\" :key=\"index\">\r\n\t\t\t\t\t<!-- (已取消)客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车客车 -->\r\n\t\t\t\t\t<view v-if=\"item.carType=='普通班车' || item.carType=='定制班车'\">\r\n\t\t\t\t\t\t<!-- 预定日期 -->\r\n\t\t\t\t\t\t<view class=\"pd_view\">下单时间：{{item.bookTime}}</view>\r\n\t\t\t\t\t\t<view class=\"at_view\">\r\n\t\t\t\t\t\t\t<view class=\"at_titleView\">\r\n\t\t\t\t\t\t\t\t<image class=\"at_icon\" src=\"../../static/order/keche.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"at_textView\"><text class=\"at_title\">{{item.startSiteName}}-{{item.endSiteName}}</text></view>\r\n\t\t\t\t\t\t\t\t<text class=\"at_status\">{{getCtkyOrderStatus(item.state)}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"at_contentView\" style=\"display: flex;\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<view class=\"at_contentFrame\">扫码上车</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"at_contentFrame\" v-if=\"item.IsPickUp==true\">上门接送</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"at_contentFrame\">{{item.carType}}</view>\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentPrice\">¥{{item.totalPrice}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t<view class=\"at_contentView\">\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentText\">发车时间：&nbsp;{{gettime(item.setOutTime)}}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentText\" v-if=\"item.IsPickUp==true\" >接送时间：&nbsp;{{getTsetDate(item.setOutTime)}}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentText\" v-if=\"item.carType == '定制班车'\">上车点：&nbsp;{{item.getOnPoint}}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentText\">下车点：&nbsp;{{item.getOffPoint}}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"at_contentText\">班次：&nbsp;{{getScheduleNum(item)}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"at_buttonView\">\r\n\t\t\t\t\t\t\t\t<view class=\"at_button at_btDetails\" @tap=\"keYunDetail(item)\">详情</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<empty-data :isShow=\"cancelArr.length == 0\" text=\"暂无数据\" :image=\"noDataImage\" textColor=\"#999999\"></empty-data>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 退票弹框 -->\r\n\t\t<uni-popup2 ref=\"popup2\" type=\"bottom\">\r\n\t\t\t<view class=\"box_Vlew\">\r\n\t\t\t\t<view class=\"box_titleView\">\r\n\t\t\t\t\t<text class=\"box_title\">退订规则</text>\r\n\t\t\t\t\t<text class=\"box_icon jdticon icon-fork \" @click=\"close2\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"box_refundView\">\r\n\t\t\t\t\t<!-- <text class=\"box_refundText\">您可以在2019年11月04日18:00前免费取消或变更订单 ；在2019年11月04日18:00之后变更或取消，将收取全 额费用作为罚金。</text> -->\r\n\t\t\t\t\t<view class=\"box_refundContentView\">\r\n\t\t\t\t\t\t<text class=\"box_refundContentTitle\">您还确定退票吗?</text>\r\n\t\t\t\t\t\t<text class=\"box_refundContentText\">如若需退票，请点击确认</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"box_refundButtonView\">\r\n\t\t\t\t\t\t<text class=\"box_refundButton\" @click=\"refund\">确认</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup2>\r\n\t\t<!-- 取消弹框 -->\r\n\t\t<uni-popup2 ref=\"popup3\" type=\"bottom\">\r\n\t\t\t<view class=\"box_Vlew\">\r\n\t\t\t\t<view class=\"box_titleView\">\r\n\t\t\t\t\t<text class=\"box_icon jdticon icon-fork \" @click=\"close3\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"box_refundView\">\r\n\t\t\t\t\t<view class=\"box_refundContentView\">\r\n\t\t\t\t\t\t<text class=\"box_refundContentTitle\">您确认取消订单吗?</text>\r\n\t\t\t\t\t\t<text class=\"box_refundContentText\">若确认取消，请点击确认</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"box_refundButtonView\">\r\n\t\t\t\t\t\t<text class=\"box_refundButton\" @click=\"cancel\">确认</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup2>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t/**\r\n\t * 注意事项：1.请求订单数据要把自己请求的数据加到info数组 2.其他事项看注释\r\n\t * */\r\n\timport uniSegmentedControl from \"@/components/Order/uni-segmented-control/uni-segmented-control.vue\";\r\n\timport uniPopup from \"@/components/Order/uni-popup/uni-popup.vue\";\r\n\timport uniIcons from \"@/components/Order/uni-icons/uni-icons.vue\";\r\n\timport uniPopup2 from \"@/components/Order/uni-popup/uni-popup2.vue\";\r\n\timport emptyData from \"@/components/Order/emptyData/emptyData.vue\"; //无数据时显示内容\r\n\timport $KyInterface from \"@/common/Ctky.js\"\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tuniSegmentedControl,\r\n\t\t\tuniPopup,\r\n\t\t\t//加载多方弹框组件\r\n\t\t\tuniPopup2,\r\n\t\t\tuniIcons,\r\n\t\t\temptyData,\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\titems: ['全部', '已完成', '进行中', '未支付', '已取消'],\r\n\t\t\t\tselector : '全部',\r\n\t\t\t\tcurrent: 0,\r\n\t\t\t\tindex: 1,\r\n\t\t\t\tinfo: [],//请求服务器订单列表\r\n\t\t\t\tuserInfo: '', //个人信息\r\n\t\t\t\tfinishArr: [],\r\n\t\t\t\tgoingArr: [],\r\n\t\t\t\tunfinishArr: [],\r\n\t\t\t\tcancelArr: [],\r\n\t\t\t\trSelect:[],\r\n\t\t\t\tnum:'5',\r\n\t\t\t\tdriverName: '张师傅', //司机姓名\r\n\t\t\t\ttotalPrice: 32.5,\r\n\t\t\t\tctkyOrderNum: '', //普通班车订单号（退票需要）\r\n\t\t\t\tky_currentType:'',\r\n\t\t\t\tky_orderStatus:'',//判断是否需要检测当前订单状态\t\r\n\t\t\t\tctkyOpenID:'',\r\n\t\t\t\tcsRefundInfo:[],//定制巴士退票\r\n\t\t\t\tspecialLineInfo: '',\r\n\t\t\t\tnoDataImage:'',//客运弹框背景图\r\n\t\t\t\ttextareaValue:\"\",\r\n\t\t\t\t\r\n\t\t\t\tSfcInfo: '',\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad: function() {\r\n\t\t\tvar that = this;\r\n\t\t\t//获取客运弹框图片\r\n\t\t\tthat.getPicture();\r\n\t\t\t// 读取用户ID\r\n\t\t\tuni.getStorage({\r\n\t\t\t\tkey: 'userInfo',\r\n\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\tthat.userInfo = data.data;\r\n\t\t\t\t},\r\n\t\t\t\tfail:function(){\r\n\t\t\t\t\t// // #ifdef H5\r\n\t\t\t\t\t// uni.showToast({\r\n\t\t\t\t\t// \ttitle: '请允许授权给公众号，即将为您返回主页！',\r\n\t\t\t\t\t// \ticon:'none'\r\n\t\t\t\t\t// })\r\n\t\t\t\t\t// uni.switchTab({\r\n\t\t\t\t\t// \turl:'/pages/Home/zy_zhcx'\r\n\t\t\t\t\t// })\r\n\t\t\t\t\t// // #endif\r\n\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请允许授权给小程序，即将跳转登录！'\r\n\t\t\t\t\t})\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl:'/pages/home/wxAuthorize'\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// // #ifdef APP-PLUS\r\n\t\t\t\t\t// uni.showToast({\r\n\t\t\t\t\t// \ttitle: '未登录账号，即将跳转登录！'\r\n\t\t\t\t\t// })\r\n\t\t\t\t\t// uni.navigateTo({\r\n\t\t\t\t\t// \turl:'/pages/GRZX/userLogin?urlData=1'\r\n\t\t\t\t\t// })\r\n\t\t\t\t\t// // #endif\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tif (this.ctkyOrderNum) {\r\n\t\t\t\tthis.getTicketPaymentInfo_ticketIssue(this.ctkyOrderNum);\r\n\t\t\t}\r\n\t\t\tthis.getOpenID();\r\n\t\t},\r\n\t\tonShow: function() {\r\n\t\t\t//客运刷新状态\r\n\t\t\tif (this.ctkyOrderNum) {\r\n\t\t\t\tthis.getTicketPaymentInfo_ticketIssue(this.ctkyOrderNum);\r\n\t\t\t}\r\n\t\t\tthis.getOpenID();\r\n\t\t\tthis.selectorChange();\t\t\r\n\t\t\t//接收current\r\n\t\t\tvar that=this;\r\n\t\t\tuni.getStorage({\r\n\t\t\t\tkey:'currentNum',\r\n\t\t\t\tsuccess:function(res){\r\n\t\t\t\t\tthat.current=res.data;\r\n\t\t\t\t\tuni.removeStorageSync('currentNum');\r\n\t\t\t\t},\r\n\t\t\t\tfail(){\r\n\t\t\t\t\tthat.current=0;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tonPullDownRefresh: function() {\r\n\t\t\t//客运刷新状态\r\n\t\t\tif (this.ctkyOrderNum) {\r\n\t\t\t\tthis.getTicketPaymentInfo_ticketIssue(this.ctkyOrderNum);\r\n\t\t\t}\r\n\t\t\tthis.selectorChange();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//--------------------------订单模块筛选--------------------------\r\n\t\t\tselectorChange : function(e){\r\n\t\t\t\tvar that=this;\r\n\t\t\t\t// console.log(e,'订单执行')\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle:'加载中...'\r\n\t\t\t\t})\r\n\t\t\t\t//进行订单数组初始化\r\n\t\t\t\tthat.info = [];\r\n\t\t\t\tthat.finishArr = [];\r\n\t\t\t\tthat.goingArr = [];\r\n\t\t\t\tthat.unfinishArr = [];\r\n\t\t\t\tthat.cancelArr = [];\r\n\t\t\t\t\tthat.getUserInfo();//加载普通班车订单方法\r\n\t\t\t},\r\n\t\t\t//--------------------------读取公众号openid--------------------------\r\n\t\t\tgetOpenID() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.getStorage({\r\n\t\t\t\t\tkey: 'scenicSpotOpenId',\r\n\t\t\t\t\tsuccess: function(response) {\r\n\t\t\t\t\t\t// alert('获取id成功');\r\n\t\t\t\t\t\tthat.ctkyOpenID = response.data\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(fail) {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//------------------------------------------------客运开始------------------------------------------------\r\n\t\t\t//-------------------------客运用户详情-------------------------\r\n\t\t\tgetPicture() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: $KyInterface.KyInterface.Ky_AddPicture.Url,\r\n\t\t\t\t\tmethod: $KyInterface.KyInterface.Ky_AddPicture.method,\r\n\t\t\t\t\theader: $KyInterface.KyInterface.Ky_AddPicture.header,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\tmodel: 0,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tif (res.data.status == true) {\r\n\t\t\t\t\t\t\tthat.noDataImage = res.data.data.imageUrl\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.log(res.data.status)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetUserInfo() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\t//读取用户ID\r\n\t\t\t\tuni.getStorage({\r\n\t\t\t\t\tkey: 'userInfo',\r\n\t\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t\tthat.userInfo = data.data;\r\n\t\t\t\t\t\tconsole.log('用户信息', that.userInfo);\r\n\t\t\t\t\t\tthat.getKeYunOrderInfo();\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t//-------------------------请求客运订单数据-------------------------\r\n\t\t\tgetKeYunOrderInfo: function() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tconsole.log(that.userInfo.userId)\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: $KyInterface.KyInterface.searchOrder2.Url, \r\n\t\t\t\t\tmethod: $KyInterface.KyInterface.searchOrder2.method,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tclientID: that.userInfo.userId,\r\n\t\t\t\t\t\tAppSystemName:that.$oSit.Interface.system.appName,\r\n\t\t\t\t\t\t// AppSystemName:'交通在线小程序',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t\t\t\tconsole.log('客运订单数据', res.data);\r\n\t\t\t\t\t\tthat.ctkyOrderNum = res.data.orderNumber;\r\n\t\t\t\t\t\tif (res.data.status == true) {\r\n\t\t\t\t\t\t\tthat.info = res.data.data;\r\n\t\t\t\t\t\t\tconsole.log(that.info)\r\n\t\t\t\t\t\t\tfor (var i = 0; i < res.data.data.length; i++) {\r\n\t\t\t\t\t\t\t\tif (res.data.data[i].state == '已取票') {\r\n\t\t\t\t\t\t\t\t\tthat.finishArr.push(res.data.data[i]);\r\n\t\t\t\t\t\t\t\t} else if (res.data.data[i].state == '尚未取票'){\r\n\t\t\t\t\t\t\t\t\tthat.goingArr.push(res.data.data[i]);\r\n\t\t\t\t\t\t\t\t} else if (res.data.data[i].state == '等待确认') {\r\n\t\t\t\t\t\t\t\t\tthat.unfinishArr.push(res.data.data[i]);\r\n\t\t\t\t\t\t\t\t} else if (res.data.data[i].state == '被撤销' || res.data.data[i].state == '联网退票') {\r\n\t\t\t\t\t\t\t\t\tthat.cancelArr.push(res.data.data[i]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t} else if (res.data.status == false) {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t//请求数据失败，停止刷新\r\n\t\t\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//-------------------------------获取班次信息-------------------------------\r\n\t\t\tgetScheduleNum:function(param){\r\n\t\t\t\t\tif(param.planScheduleCode){\r\n\t\t\t\t\t\treturn param.planScheduleCode;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\treturn '无'; \r\n\t\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//-------------------------------获取时间信息-------------------------------\r\n\t\t\tgettime:function(param){\r\n\t\t\t\t\tlet array=param.split(':');\r\n\t\t\t\t\tvar a=array[0]+\":\"+array[1];\r\n\t\t\t\t\treturn a;\r\n\t\t\t},\r\n\t\t\t//-------------------------判断订单状态-------------------------\r\n\t\t\tgetCtkyOrderStatus(param) {\r\n\t\t\t\tif (!(/(^[1-9]\\d*$)/.test(param))){//如果不是数字\r\n\t\t\t\t\treturn param\r\n\t\t\t\t}else {\r\n\t\t\t\t\tif (param == 4) {\r\n\t\t\t\t\t\treturn '进行中'\r\n\t\t\t\t\t} else if (param == 5) {\r\n\t\t\t\t\t\treturn '已完成'\r\n\t\t\t\t\t} else if (param == 6) {\r\n\t\t\t\t\t\treturn '已退票'\r\n\t\t\t\t\t} else if (param == 7) {\r\n\t\t\t\t\t\treturn '未支付'\r\n\t\t\t\t\t} else if (param == 9) {\r\n\t\t\t\t\t\treturn '已撤销'\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//  else if (param == 22) {\r\n\t\t\t\t\t// \treturn '已改签'\r\n\t\t\t\t\t// }\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\topen3(e) {\r\n\t\t\t\tthis.ticketOrderNumber = e;\r\n\t\t\t\tthis.$refs.popup3.open()\r\n\t\t\t},\r\n\t\t\t//-------------------------跳转到详情页-------------------------\r\n\t\t\tkeYunDetail: function(res) {\r\n\t\t\t\tconsole.log(res)\r\n\t\t\tuni.setStorage({\r\n\t\t\t\t\tkey:'keYunDetailinfo',\r\n\t\t\t\t\tdata:res,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pages_ZXGP/pages/ZXGP/TraditionSpecial/Order/orderDetail'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail:function(res){\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:'网络异常',\r\n\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// -------------------------客运查看车辆位置-------------------------\r\n\t\t\tbusLocation:function(item) {\r\n\t\t\t\tvar loaction = {\r\n\t\t\t\t\tlatitude:item.lat,\r\n\t\t\t\t\tlongitude:item.lon\r\n\t\t\t\t}\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'../../pages_CTKY/pages/CTKY/TraditionSpecial/MapMark/checkBusLocation?busInfo=' + JSON.stringify(loaction)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//--------------------------退票之前获取车票支付参数--------------------------\r\n\t\t\trefund_getTicketPaymentInfo: function(orderNumber) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar timer = null;\r\n\t\t\t\tthat.timer = timer;\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '查询支付状态...'\r\n\t\t\t\t});\r\n\t\t\t\ttimer = setInterval(function() {\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl:that.$ky_cpdg.KyInterface.Ky_getTicketPaymentInfo.Url,\r\n\t\t\t\t\t\tmethod:that.$ky_cpdg.KyInterface.Ky_getTicketPaymentInfo.method,\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\torderNumber: orderNumber,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\tif (res.data.data == '车票已退票') {\r\n\t\t\t\t\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '车票已退票',\r\n\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t\t\t\t\tthat.GetBounceChargeByOrderNumber(orderNumber);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t//回调失败，取消定时器\r\n\t\t\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 3000)\r\n\t\t\t},\r\n\t\t\t// -------------------------客运退票--查询费率-------------------------\r\n\t\t\tGetBounceChargeByOrderNumber:function(orderNumber){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: $KyInterface.KyInterface.GetBounceChargeByOrderNumber.Url,\r\n\t\t\t\t\tmethod: $KyInterface.KyInterface.GetBounceChargeByOrderNumber.method,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\torderNumber: orderNumber,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(respones) {\r\n\t\t\t\t\t\tconsole.log(respones)\r\n\t\t\t\t\t\tif(respones.data.status == true){\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tthat.$refs.popup2.close()\r\n\t\t\t\t\t\t\tlet BounceMoney = respones.data.data.BounceMoney;\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle:'温馨提示',\r\n\t\t\t\t\t\t\t\tcontent:'退票将收取手续费，退款金额为' + BounceMoney + '元',\r\n\t\t\t\t\t\t\t\t// content:'退票将收取手续费，是否继续退票',\r\n\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\tif(res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\tthat.keYunRefundTicket(orderNumber)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}else if(respones.data.status == false){\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tthat.$refs.popup2.close()\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:respones.data.msg,\r\n\t\t\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t\t\t\tcomplete() {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\t\t\tuni.startPullDownRefresh();\r\n\t\t\t\t\t\t\t\t\t},1500)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(respones) {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tconsole.log('费率', respones)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// -------------------------客运退票-------------------------\r\n\t\t\tkeYunRefundTicket: function(orderNumber) {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '正在退票中...'\r\n\t\t\t\t})\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: $KyInterface.KyInterface.RefundTicket_Flow.Url,\r\n\t\t\t\t\tmethod: $KyInterface.KyInterface.RefundTicket_Flow.method,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\torderNumber: orderNumber,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (respones) => {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tconsole.log('退票结果', respones)\r\n\t\t\t\t\t\tif (respones.data.status == true) {\r\n\t\t\t\t\t\t\tif(respones.data.msg == '退票成功'){\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle:\"退票成功\",\r\n\t\t\t\t\t\t\t\t\tcomplete() {\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\t\t\t\tuni.startPullDownRefresh();\r\n\t\t\t\t\t\t\t\t\t\t},1500)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tthis.selectorChange();\r\n\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: respones.data.msg\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tuni.startPullDownRefresh();\r\n\t\t\t\t\t\t\t\tthis.selectorChange();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if (respones.data.status == false){\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\tif(respones.data.msg) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: respones.data.msg,\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '退票失败',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tthis.selectorChange();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.$refs.popup2.close()\r\n\t\t\t\t\t\t\tuni.startPullDownRefresh();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.selectorChange();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (respones) => {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tconsole.log(respones)\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '服务器异常，请联系客服'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//-------------------------打开退票弹框-------------------------\r\n\t\t\topen2: function(e) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\t\tthat.ticketOrderNumber = e;\r\n\t\t\t\t\tthat.$refs.popup2.open()\r\n\t\t\t},\r\n\t\t\t//-------------------------关闭退票弹框-------------------------\r\n\t\t\tclose2() {\r\n\t\t\t\tthis.$refs.popup2.close()\r\n\t\t\t},\r\n\t\t\t//--------------------------客运取消之前获取车票支付参数--------------------------\r\n\t\t\tcancel_getTicketPaymentInfo: function(orderNumber) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar timer = null;\r\n\t\t\t\tthat.timer = timer;\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '查询支付状态...'\r\n\t\t\t\t});\r\n\t\t\t\ttimer = setInterval(function() {\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl:$KyInterface.KyInterface.SellTicket_Flow.Url,\r\n\t\t\t\t\t\tmethod:$KyInterface.KyInterface.SellTicket_Flow.method,\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\torderNumber: orderNumber,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tconsole.log('取消结果',res);\r\n\t\t\t\t\t\t\tif (res.data.data == '订票成功，待支付' || res.data.msg == '订票成功，待支付') {//可以取消\r\n\t\t\t\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t\t\t\t\tthat.keYunCancelTicket(orderNumber);\r\n\t\t\t\t\t\t\t}else if (res.data.data == '订票成功' || res.data.msg == '订票成功'){//已付钱，不可取消\r\n\t\t\t\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tthat.$refs.popup3.close()\r\n\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\ttitle:'温馨提示',\r\n\t\t\t\t\t\t\t\t\tcontent:'您的订单已购票成功，不可取消',\r\n\t\t\t\t\t\t\t\t\tshowCancel:false,\r\n\t\t\t\t\t\t\t\t\tcomplete() {\r\n\t\t\t\t\t\t\t\t\t\tuni.startPullDownRefresh()\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}else if (res.data.msg == '订票失败' || res.data.data == '订票失败'){//可取消\r\n\t\t\t\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t\t\t\t\tthat.keYunCancelTicket(orderNumber);\r\n\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tthat.$refs.popup3.close()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t//回调失败，取消定时器\r\n\t\t\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 3000)\r\n\t\t\t},\r\n\t\t\t// -------------------------客运取消-------------------------\r\n\t\t\tkeYunCancelTicket: function(orderNumber) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.ky_currentType = '传统客运';\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: $KyInterface.KyInterface.CancelTicket_Flow.Url,\r\n\t\t\t\t\tmethod: $KyInterface.KyInterface.CancelTicket_Flow.method,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\torderNumber: orderNumber,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (respones) => {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tthat.$refs.popup3.close()\r\n\t\t\t\t\t\t// console.log('取消结果', respones)\r\n\t\t\t\t\t\tif (respones.data.status == true) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '取消成功',\r\n\t\t\t\t\t\t\t\tcomplete() {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\t\t\tuni.startPullDownRefresh();\r\n\t\t\t\t\t\t\t\t\t},1500)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tthis.selectorChange();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '取消失败',\r\n\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\tcomplete() {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\t\t\tuni.startPullDownRefresh();\r\n\t\t\t\t\t\t\t\t\t},1500)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (respones) => {\r\n\t\t\t\t\t\t// alert(respones.data.msg)\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tconsole.log(respones)\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '服务器异常，请联系客服'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.$refs.popup3.close()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// -------------------------客运支付-------------------------\r\n\t\t\tkeYunPay: function(item,carType) {\r\n\t\t\t\t// var orderInfo = this.info[index];\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tconsole.log(item.orderNumber,carType,item.totalPrice);\r\n\t\t\t\t\tthis.ky_currentType = '';\r\n\t\t\t\t\tthis.ky_orderStatus = '客运支付订单检索';\r\n\t\t\t\t\tthis.getTicketPaymentInfo(item.orderNumber);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//--------------------------检测订单支付状态--------------------------\r\n\t\t\tCs_CheckPayState:function(orderNumber,totalPrice){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar payType = $KyInterface.KyInterface.SellTicket_Flow.payType;\r\n\t\t\t\tconsole.log('检测订单支付状态',orderNumber,payType)\r\n\t\t\t\tvar number = orderNumber.orderNumber;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl:$KyInterface.KyInterface.SellTicket_Flow.Url,\r\n\t\t\t\t\tmethod:$KyInterface.KyInterface.SellTicket_Flow.method,\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\torderNumber:number,\r\n\t\t\t\t\t\tpayType:payType\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log('支付状态',res)\r\n\t\t\t\t\t\tconsole.log('ky_currentType',that.ky_currentType)\r\n\t\t\t\t\t\t if(res.data.msg == '支付成功'){\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:'订单已支付',\r\n\t\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}else if(res.data.msg == '支付关闭'){\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:'支付关闭',\r\n\t\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}else if(res.data.msg == '检测到超时'){\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:'支付超时',\r\n\t\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}else if(res.data.msg == '已办理退款'){\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:'已办理退款',\r\n\t\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//--------------------------获取车票支付参数--------------------------\r\n\t\t\tgetTicketPaymentInfo: function(orderNumber) {\r\n\t\t\t\t// console.log('支付参数', orderNumber);\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar timer = null;\r\n\t\t\t\tthat.timer = timer;\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle:'正在检测订单...'\r\n\t\t\t\t})\r\n\t\t\t\ttimer = setInterval(function() {\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl:that.$ky_cpdg.KyInterface.Ky_getTicketPaymentInfo.Url,\r\n\t\t\t\t\t\tmethod:that.$ky_cpdg.KyInterface.Ky_getTicketPaymentInfo.method,\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\torderNumber: orderNumber,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tconsole.log('支付参数返回数据', res);\r\n\t\t\t\t\t\t\tif (res.data.status == true) {\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tvar info = JSON.parse(res.data.msg);\r\n\t\t\t\t\t\t\t\tif (info.oldState == '结束') {\r\n\t\t\t\t\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '订单已支付',\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\t\tcomplete() {\r\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.startPullDownRefresh()\r\n\t\t\t\t\t\t\t\t\t\t\t},1500)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t\t\t\t\t\t//未支付，客运支付\r\n\t\t\t\t\t\t\t\t\tthat.keYunPaymentData = JSON.parse(res.data.msg);\r\n\t\t\t\t\t\t\t\t\tthat.keYunPayment(orderNumber);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (res.data.status == false) {\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t\t\t\t\tvar info = JSON.parse(res.data.msg);\r\n\t\t\t\t\t\t\t\tif (info.oldState == '结束') {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '订单已超时',\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\tcontent: info.oldState,\r\n\t\t\t\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t//回调失败，取消定时器\r\n\t\t\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 3000)\r\n\t\t\t},\r\n\t\t\t//--------------------------调起支付--------------------------\r\n\t\t\tkeYunPayment: function(e) {\r\n\t\t\t\t// console.log('点击了支付');\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif (that.isPayEnable == 0) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '正在获取支付,请稍等...',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\tWeixinJSBridge.invoke('getBrandWCPayRequest', {\r\n\t\t\t\t\t\t\"appId\": that.keYunPaymentData.jsapi.AppId, //公众号名称，由商户传入\r\n\t\t\t\t\t\t\"timeStamp\": that.keYunPaymentData.jsapi.TimeStamp, //时间戳\r\n\t\t\t\t\t\t\"nonceStr\": that.keYunPaymentData.jsapi.NonceStr, //随机串\r\n\t\t\t\t\t\t\"package\": that.keYunPaymentData.jsapi.Package, //扩展包\r\n\t\t\t\t\t\t\"signType\": that.keYunPaymentData.jsapi.SignType, //微信签名方式:MD5\r\n\t\t\t\t\t\t\"paySign\": that.keYunPaymentData.jsapi.PaySign //微信签名\r\n\t\t\t\t\t}, function(res) {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tif (res.errMsg == \"get_brand_wcpay_request:ok\") {\r\n\t\t\t\t\t\t\t//支付成功再进计时器查询状态\r\n\t\t\t\t\t\t\t// location.href = \"/Order/BaseCallback/\" + flowID;\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '支付成功',\r\n\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tuni.startPullDownRefresh();\r\n\t\t\t\t\t\t} else if (res.err_msg == \"get_brand_wcpay_request:cancel\") {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '您取消了支付，请重新支付',\r\n\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else if (res.err_msg == \"get_brand_wcpay_request:faile\") {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '支付失败，请重新支付',\r\n\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// location.href = \"/Coach/GetCoach\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// #endif\r\n\r\n\r\n\t\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\t// console.log('进入app支付', that.paymentData);\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\tprovider: 'wxpay',\r\n\t\t\t\t\t\torderInfo: {\r\n\t\t\t\t\t\t\tappid: that.keYunPaymentData.jsapi.AppId,\r\n\t\t\t\t\t\t\ttimestamp: that.keYunPaymentData.jsapi.TimeStamp,\r\n\t\t\t\t\t\t\tnoncestr: that.keYunPaymentData.jsapi.NonceStr,\r\n\t\t\t\t\t\t\tpackage: 'Sign=WXPay',\r\n\t\t\t\t\t\t\tsign: that.keYunPaymentData.jsapi.PaySign,\r\n\t\t\t\t\t\t\tpartnerid: that.keYunPaymentData.jsapi.PartnerId,\r\n\t\t\t\t\t\t\tprepayid: that.keYunPaymentData.jsapi.PrepayId,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tif (res.errMsg == 'requestPayment:ok') { //成功\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '支付成功',\r\n\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\tsuccess: function() {\r\n\t\t\t\t\t\t\t\t\t\tuni.startPullDownRefresh();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} else if (res.errMsg == 'requestPayment:fail') { //错误\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '支付失败，请重新支付',\r\n\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\tfail: function(ee) {\r\n\t\t\t\t\t\t\tconsole.log(ee)\r\n\t\t\t\t\t\t\tif (ee.errMsg == 'requestPayment:fail canceled') { //用户取消\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '您取消了支付',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: ee.errMsg,\r\n\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\tprovider: 'wxpay',\r\n\t\t\t\t\t\ttimeStamp:that.keYunPaymentData.jsapi.TimeStamp,\r\n\t\t\t\t\t\tnonceStr:that.keYunPaymentData.jsapi.NonceStr,\r\n\t\t\t\t\t\tpackage:that.keYunPaymentData.jsapi.Package,\r\n\t\t\t\t\t\tsignType:that.keYunPaymentData.jsapi.SignType,\r\n\t\t\t\t\t\tpaySign:that.keYunPaymentData.jsapi.PaySign,\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '支付成功',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\t    title: '加载中...'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthat.getTicketPaymentInfo_ticketIssue(e);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\tif (res.errMsg == \"requestPayment:fail cancel\") {\r\n\t\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\t\tthat.showToast(\"支付失败，请重新支付\")\r\n\t\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthat.showToast(\"支付失败\")\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//--------------------------客运成功之后重新获取车票支付参数--------------------------\r\n\t\t\tgetTicketPaymentInfo_ticketIssue: function(orderNumber) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar timer = null;\r\n\t\t\t\tthat.timer = timer;\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '加载中...'\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log(orderNumber);\r\n\t\t\t\ttimer = setInterval(function() {\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl:that.$ky_cpdg.KyInterface.Ky_getTicketPaymentInfo.Url,\r\n\t\t\t\t\t\tmethod:that.$ky_cpdg.KyInterface.Ky_getTicketPaymentInfo.method,\r\n\t\t\t\t\t\t// header:$KyInterface.KyInterface.Ky_getTicketPaymentInfo.header,\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\torderNumber: orderNumber,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tconsole.log('支付参数返回数据', res);\r\n\t\t\t\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t\t\t\t\tif (res.data.data == '订票成功') {\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '出票成功',\r\n\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tthat.selectorChange();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t//回调失败，取消定时器\r\n\t\t\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 3000)\r\n\t\t\t},\r\n\t\t\t//-------------------------客运投诉-------------------------\r\n\t\t\tKyComplain:function(item){\r\n\t\t\t\tconsole.log(item)\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl:'/pages_GRZX/pages/GRZX/complaint?driverID=' +item.driverPhone+'&driverName=' + item.driverName +'&orderID=' +item.orderNumber\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonchange(e){\r\n\t\t\t\tthis.num = e.value;\r\n\t\t\t},\r\n\t\t\ttapInfo(e) {\r\n\t\t\t\tif (this.rSelect.indexOf(e) == -1) {\r\n\t\t\t\t    this.rSelect.push(e);//选中添加到数组里\r\n\t\t\t\t} else {\r\n\t\t\t\t    this.rSelect.splice(this.rSelect.indexOf(e), 1); //取消\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//-------------------------退票-------------------------\r\n\t\t\trefund: function() {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '请求退票中...'\r\n\t\t\t\t})\r\n\t\t\t\tvar that = this\r\n\t\t\t\t\tthat.refund_getTicketPaymentInfo(that.ticketOrderNumber)\r\n\t\t\t},\r\n\t\t\t//-------------------------关闭取消弹框-------------------------\r\n\t\t\tclose3() {\r\n\t\t\t\tthis.$refs.popup3.close()\r\n\t\t\t},\r\n\t\t\t//-------------------------取消-------------------------\r\n\t\t\tcancel: function() {\r\n\t\t\t\t\tthis.cancel_getTicketPaymentInfo(this.ticketOrderNumber);\r\n\t\t\t},\r\n\t\t\t//------------------------------------------------客运结束------------------------------------------------\r\n\t\t\tonClickItem(e) { //tab点击事件\r\n\t\t\t\tif (this.current !== e.currentIndex) {\r\n\t\t\t\t\tthis.current = e.currentIndex\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//接送时间方法\r\n\t\t\tgetTsetDate: function(e) {\r\n\t\t\t\tvar tsetDate2 = e.replace('T', ' ')\r\n\t\t\t\tvar date = new Date(new Date(tsetDate2).getTime() - 2700 * 1000),\r\n\t\t\t\t\tyers  = date.getFullYear(),\r\n\t\t\t\t\tmonth = date.getMonth() + 1,\r\n\t\t\t\t\tday = date.getDate(),\r\n\t\t\t\t\thour = date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours(),\r\n\t\t\t\t\tminutes = date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes();\r\n\t\t\t\tmonth >= 1 && month <= 9 ? (month = \"0\" + month) : \"\";\r\n\t\t\t\tday >= 0 && day <= 9 ? (day = \"0\" + day) : \"\";\r\n\t\t\t\treturn yers + '-' + month + '-' + day + ' ' + hour + ':' + minutes; //当前年月日时分\r\n\t\t\t},\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t/* flex布局 */\r\n\t.u-f,\r\n\t.u-f-ac,\r\n\t.u-f-jsb,\r\n\t.u-f-jc {\r\n\t\tdisplay: flex;\r\n\t\t/* 设置当前内容全部水平布局 */\r\n\t}\r\n\t.u-f-ac,\r\n\t.u-f-jsb,\r\n\t.u-f-jc {\r\n\t\talign-items: center;\r\n\t\t/* 设置内容中心点对齐 */\r\n\t}\r\n\t\r\n\t.u-f-jc {\r\n\t\tjustify-content: center;\r\n\t}\r\n\t\r\n\t.u-f-jsb {\r\n\t\tjustify-content: space-between;\r\n\t\t/* 设置左右两边靠边布局 */\r\n\t}\r\n\t\r\n\tpage {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: #F5F5F5;\r\n\t\tpadding-bottom: 48upx;\r\n\t}\r\n\t\r\n\t.pageView {\r\n\t\t/* #ifdef H5 */\r\n\t\tpadding-bottom: 112upx;\r\n\t\t/* #endif */\r\n\t}\r\n\t\r\n\t.tab {\r\n\t\tposition: sticky;\r\n\t\ttop: 0upx;\r\n\t\tbackground: #f5f5f5;\r\n\t\tpadding: 16upx 0;\r\n\t\theight: 108upx;\r\n\t\tz-index: 99999;\r\n\t\r\n\t}\r\n\t\r\n\t// 购买时间\r\n\t.pd_view {\r\n\t\twidth: 400upx;\r\n\t\tmargin: 40rpx 28rpx;\r\n\t\tmargin-bottom: 0upx;\r\n\t\tborder-radius: 32rpx;\r\n\t\tbackground: #06B4FD;\r\n\t\ttext-align: center;\r\n\t\tpadding: 16upx 0;\r\n\t\tfont-size: 25upx;\r\n\t\tcolor: #FFFFFF;\r\n\t}\r\n\t\r\n\t//门票列表内容\r\n\t.at_view {\r\n\t\tmargin: 0rpx 28rpx;\r\n\t\tmargin: 24upx;\r\n\t\tbackground: #FFFFFF;\r\n\t\tborder-radius: 12rpx;\r\n\t\tpadding: 40rpx 32upx;\r\n\t\tpadding-bottom: 120upx;\r\n\t\r\n\t\t.at_titleView {\r\n\t\t\tposition: relative;\r\n\t\t\tdisplay: flex;\r\n\t\r\n\t\t\t.at_icon {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\ttop: 6upx;\r\n\t\t\t\twidth: 40upx;\r\n\t\t\t\theight: 34upx;\r\n\t\t\t}\r\n\t\t\t.at_textView{\r\n\t\t\t\tpadding-left: 20upx;\r\n\t\t\t\twidth: 450upx;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\t.at_title {\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.at_status {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tright: 0;\r\n\t\t\t\tfont-size: 30upx;\r\n\t\t\t\ttop: 6upx;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t//内容区\r\n\t\t.at_contentView {\r\n\t\t\tposition: relative;\r\n\t\t\tmargin: 24upx 0;\r\n\t\t\tmargin-left: 60upx;\r\n\t\r\n\t\t\t.at_contentFrame {\r\n\t\t\t\tpadding: 8upx 20upx;\r\n\t\t\t\tmargin-right: 16upx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tfont-size: 20upx;\r\n\t\t\t\tcolor: #3AC596;\r\n\t\t\t\tborder-radius: 8upx;\r\n\t\t\t\tborder: 1upx solid #3AC596;\r\n\t\t\t}\r\n\t\r\n\t\t\t.at_contentPrice {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tright: 0;\r\n\t\t\t\tfont-size: 30upx;\r\n\t\t\t\tcolor: #f85e52;\r\n\t\t\t}\r\n\t\r\n\t\t\t.at_contentText {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tmargin-top: 24upx;\r\n\t\t\t\tfont-size: 28upx;\r\n\t\t\t\tcolor: #888;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t//按钮区\r\n\t\t.at_buttonView {\r\n\t\t\tdisplay: flex;\r\n\t\t\tfloat: right;\r\n\t\r\n\t\t\t// 按钮\r\n\t\t\t.at_button {\r\n\t\t\t\tpadding: 18upx 32upx;\r\n\t\t\t\tfont-size: 30upx;\r\n\t\t\t\tborder-radius: 40upx;\r\n\t\t\t}\r\n\t\r\n\t\t\t// 详情 - 实心蓝\r\n\t\t\t.at_btDetails {\r\n\t\t\t\tbackground: #3EABFC;\r\n\t\t\t\tborder: 1upx solid #3EABFC;\r\n\t\t\t\tcolor: #FFFFFF;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t//删除/退票 - 空心灰\r\n\t\t\t.at_btDelete {\r\n\t\t\t\tborder: 1upx solid #888;\r\n\t\t\t\tcolor: #888;\r\n\t\t\t\tmargin-right: 24upx;\r\n\t\t\t}\r\n\t\r\n\t\t\t//去支付 - 实心绿\r\n\t\t\t.at_btToPay {\r\n\t\t\t\tbackground: #02c501;\r\n\t\t\t\tborder: 1upx solid #02c501;\r\n\t\t\t\tcolor: #FFFFFF;\r\n\t\t\t\tmargin-right: 24upx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t//须知弹框\r\n\t.box_Vlew {\r\n\t\tpadding: 16upx 40upx;\r\n\t\tpadding-bottom: 24upx;\r\n\t\tbackground: #FFFFFF;\r\n\t\r\n\t\t.box_titleView {\r\n\t\t\tmargin: 24upx 0;\r\n\t\r\n\t\t\t//弹框标题\r\n\t\t\t.box_title {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tfont-size: 38upx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\ttop: 8upx;\r\n\t\t\t\tmargin-bottom: 16upx;\r\n\t\t\t}\r\n\t\r\n\t\t\t//弹框关闭按钮\r\n\t\t\t.box_icon {\r\n\t\t\t\tmargin-top: 8upx;\r\n\t\t\t\tfloat: right;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t\tfont-size: 32upx;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t// 二维码弹框\r\n\t\t.box_qrCodeView {\r\n\t\t\tmargin: 24upx 0upx;\r\n\t\t\ttext-align: center;\r\n\t\r\n\t\t\t.box_qrCodeImage {\r\n\t\t\t\tmargin-top: 24upx;\r\n\t\t\t\twidth: 320upx;\r\n\t\t\t\theight: 320upx;\r\n\t\t\t}\r\n\t\r\n\t\t\t.box_qrCodeTextView {\r\n\t\t\t\ttext-align: center;\r\n\t\r\n\t\t\t\t.box_qrCodeText {\r\n\t\t\t\t\tmargin-top: 16upx;\r\n\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\tfont-size: 30upx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t// 退款弹框\r\n\t\t.box_refundView {\r\n\t\t\tmargin: 24upx 0upx;\r\n\t\r\n\t\t\t.box_refundText {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tmargin-top: 24upx;\r\n\t\t\t\tfont-size: 28upx;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t}\r\n\t\r\n\t\t\t//确认退票\r\n\t\t\t.box_refundContentView {\r\n\t\t\t\tmargin-top: 64upx;\r\n\t\t\t\ttext-align: center;\r\n\t\r\n\t\t\t\t.box_refundContentTitle {\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t.box_refundContentText {\r\n\t\t\t\t\tmargin-top: 24upx;\r\n\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\tfont-size: 28upx;\r\n\t\t\t\t\tcolor: #888;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\t.box_refundButtonView {\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tmargin: 56upx 0;\r\n\t\r\n\t\t\t\t//确认按钮\r\n\t\t\t\t.box_refundButton {\r\n\t\t\t\t\tcolor: #FFFFFF;\r\n\t\t\t\t\tborder-radius: 56upx;\r\n\t\t\t\t\tbackground: #FF6600;\r\n\t\t\t\t\tpadding: 24upx 160upx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n</style>\r\n","import mod from \"-!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./newOrderList.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./newOrderList.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}